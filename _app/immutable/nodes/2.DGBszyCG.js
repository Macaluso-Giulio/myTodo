import{a as x,t as R,d as Ie,c as we}from"../chunks/lgMO21Ug.js";import{i as ve}from"../chunks/BbF98w-M.js";import{j as $e,o as T,J as de,g as b,K as xe,L as ee,M as ae,N as V,p as P,at as J,O as ce,k as ue,P as Se,am as _e,G as K,au as Oe,av as Ce,al as Me,aw as De,m as Re,Z as he,ai as Le,a9 as pe,a3 as Pe,B as re,ax as Be,i as Fe,ay as He,az as qe,af as Je,aA as Ge,aB as Ke,I as Ue,aC as Ve,E as ze,aD as Ye,aE as We,ao as Xe,b as me,aF as Ze,aG as Qe,ab as je,n as B,aH as ea,aI as aa,a8 as te,W as se,aJ as ra,ap as ta,t as H,x as I,y as w,s as ye,aK as ge,aL as sa,aM as na,q as W,aN as ia,w as $,v as ke,e as la,D as G}from"../chunks/DucslvUb.js";import{c as oa,o as fa}from"../chunks/DEMCxWVJ.js";import{a as va,b as da,l as ca,c as ua,e as Z,s as Q}from"../chunks/BVB8UGAA.js";import{p as L,i as _a}from"../chunks/CzMp5uvr.js";function ha(e,a){return a}function pa(e,a,r,t){for(var s=[],n=a.length,i=0;i<n;i++)Ce(a[i].e,s,!0);var _=n>0&&s.length===0&&r!==null;if(_){var u=r.parentNode;Me(u),u.append(r),t.clear(),M(e,a[0].prev,a[n-1].next)}De(s,()=>{for(var m=0;m<n;m++){var h=a[m];_||(t.delete(h.k),M(e,h.prev,h.next)),Re(h.e,!_)}})}function ma(e,a,r,t,s,n=null){var i=e,_={flags:a,items:new Map,first:null};T&&de();var u=null,m=!1,h=he(()=>{var f=r();return Fe(f)?f:f==null?[]:_e(f)});$e(()=>{var f=b(h),v=f.length;if(m&&v===0)return;m=v===0;let o=!1;if(T){var l=i.data===xe;l!==(v===0)&&(i=ee(),ae(i),V(!1),o=!0)}if(T){for(var p=null,c,k=0;k<v;k++){if(P.nodeType===8&&P.data===Le){i=P,o=!0,V(!1);break}var d=f[k],y=t(d,k);c=Ee(P,_,p,null,d,y,k,s,a,r),_.items.set(y,c),p=c}v>0&&ae(ee())}if(!T){var A=pe;ya(f,_,i,s,a,(A.f&J)!==0,t,r)}n!==null&&(v===0?u?ce(u):u=ue(()=>n(i)):u!==null&&Se(u,()=>{u=null})),o&&V(!0),b(h)}),T&&(i=P)}function ya(e,a,r,t,s,n,i,_){var u=e.length,m=a.items,h=a.first,f=h,v,o=null,l=[],p=[],c,k,d,y;for(y=0;y<u;y+=1){if(c=e[y],k=i(c,y),d=m.get(k),d===void 0){var A=f?f.e.nodes_start:r;o=Ee(A,a,o,o===null?a.first:o.next,c,k,y,t,s,_),m.set(k,o),l=[],p=[],f=o.next;continue}if(ga(d,c,y),d.e.f&J&&ce(d.e),d!==f){if(v!==void 0&&v.has(d)){if(l.length<p.length){var g=p[0],E;o=g.prev;var N=l[0],S=l[l.length-1];for(E=0;E<l.length;E+=1)ne(l[E],g,r);for(E=0;E<p.length;E+=1)v.delete(p[E]);M(a,N.prev,S.next),M(a,o,N),M(a,S,g),f=g,o=S,y-=1,l=[],p=[]}else v.delete(d),ne(d,f,r),M(a,d.prev,d.next),M(a,d,o===null?a.first:o.next),M(a,o,d),o=d;continue}for(l=[],p=[];f!==null&&f.k!==k;)(n||!(f.e.f&J))&&(v??(v=new Set)).add(f),p.push(f),f=f.next;if(f===null)continue;d=f}l.push(d),o=d,f=d.next}if(f!==null||v!==void 0){for(var C=v===void 0?[]:_e(v);f!==null;)(n||!(f.e.f&J))&&C.push(f),f=f.next;var be=C.length;if(be>0){var Ne=null;pa(a,C,Ne,m)}}K.first=a.first&&a.first.e,K.last=o&&o.e}function ga(e,a,r,t){Oe(e.v,a),e.i=r}function Ee(e,a,r,t,s,n,i,_,u,m){var h=(u&He)!==0,f=(u&qe)===0,v=h?f?Pe(s):re(s):s,o=u&Be?re(i):i,l={i:o,v,k:n,a:null,e:null,prev:r,next:t};try{return l.e=ue(()=>_(e,v,o,m),T),l.e.prev=r&&r.e,l.e.next=t&&t.e,r===null?a.first=l:(r.next=l,r.e.next=l.e),t!==null&&(t.prev=l,t.e.prev=l.e),l}finally{}}function ne(e,a,r){for(var t=e.next?e.next.e.nodes_start:r,s=a?a.e.nodes_start:r,n=e.e.nodes_start;n!==t;){var i=Je(n);s.before(n),n=i}}function M(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}function ka(e,a,r,t,s){var _;T&&de();var n=(_=a.$$slots)==null?void 0:_[r],i=!1;n===!0&&(n=a.children,i=!0),n===void 0||n(e,i?()=>t:t)}function Ae(e){var a,r,t="";if(typeof e=="string"||typeof e=="number")t+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(a=0;a<s;a++)e[a]&&(r=Ae(e[a]))&&(t&&(t+=" "),t+=r)}else for(r in e)e[r]&&(t&&(t+=" "),t+=r);return t}function Ea(){for(var e,a,r=0,t="",s=arguments.length;r<s;r++)(e=arguments[r])&&(a=Ae(e))&&(t&&(t+=" "),t+=a);return t}function Aa(e){return typeof e=="object"?Ea(e):e??""}function Ta(e){if(T){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;U(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var s=e.checked;U(e,"checked",null),e.checked=s}}};e.__on_r=r,Ge(r),va()}}function U(e,a,r,t){var s=e.__attributes??(e.__attributes={});T&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="style"&&"__styles"in e&&(e.__styles={}),a==="loading"&&(e[Ke]=r),r==null?e.removeAttribute(a):typeof r!="string"&&ba(e).includes(a)?e[a]=r:e.setAttribute(a,r))}var ie=new Map;function ba(e){var a=ie.get(e.nodeName);if(a)return a;ie.set(e.nodeName,a=[]);for(var r,t=e,s=Element.prototype;s!==t;){r=Ve(t);for(var n in r)r[n].set&&a.push(n);t=Ue(t)}return a}function j(e,a,r){var t=e.__className,s=Na(a,r);T&&e.className===s?e.__className=s:(t!==s||T&&e.className!==s)&&(a==null&&!r?e.removeAttribute("class"):e.className=s,e.__className=s)}function Na(e,a){return(e??"")+(a?" "+a:"")}const Ia=()=>performance.now(),O={tick:e=>requestAnimationFrame(e),now:()=>Ia(),tasks:new Set};function Te(){const e=O.now();O.tasks.forEach(a=>{a.c(e)||(O.tasks.delete(a),a.f())}),O.tasks.size!==0&&O.tick(Te)}function wa(e){let a;return O.tasks.size===0&&O.tick(Te),{promise:new Promise(r=>{O.tasks.add(a={c:e,f:r})}),abort(){O.tasks.delete(a)}}}function q(e,a){e.dispatchEvent(new CustomEvent(a))}function $a(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const a=e.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function le(e){const a={},r=e.split(";");for(const t of r){const[s,n]=t.split(":");if(!s||n===void 0)break;const i=$a(s.trim());a[i]=n.trim()}return a}const xa=e=>e;function oe(e,a,r,t){var s=(e&Ze)!==0,n=(e&ea)!==0,i=s&&n,_=(e&aa)!==0,u=i?"both":s?"in":"out",m,h=a.inert,f=a.style.overflow,v,o;function l(){var y=pe,A=K;te(null),se(null);try{return m??(m=r()(a,(t==null?void 0:t())??{},{direction:u}))}finally{te(y),se(A)}}var p={is_global:_,in(){var y;if(a.inert=h,!s){o==null||o.abort(),(y=o==null?void 0:o.reset)==null||y.call(o);return}n||v==null||v.abort(),q(a,"introstart"),v=X(a,l(),o,1,()=>{q(a,"introend"),v==null||v.abort(),v=m=void 0,a.style.overflow=f})},out(y){if(!n){y==null||y(),m=void 0;return}a.inert=!0,q(a,"outrostart"),o=X(a,l(),v,0,()=>{q(a,"outroend"),y==null||y()})},stop:()=>{v==null||v.abort(),o==null||o.abort()}},c=K;if((c.transitions??(c.transitions=[])).push(p),s&&da){var k=_;if(!k){for(var d=c.parent;d&&d.f&ze;)for(;(d=d.parent)&&!(d.f&Ye););k=!d||(d.f&We)!==0}k&&Xe(()=>{me(()=>p.in())})}}function X(e,a,r,t,s){var n=t===1;if(Qe(a)){var i,_=!1;return je(()=>{if(!_){var c=a({direction:n?"in":"out"});i=X(e,c,r,t,s)}}),{abort:()=>{_=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(r==null||r.deactivate(),!(a!=null&&a.duration))return s(),{abort:B,deactivate:B,reset:B,t:()=>t};const{delay:u=0,css:m,tick:h,easing:f=xa}=a;var v=[];if(n&&r===void 0&&(h&&h(0,1),m)){var o=le(m(0,1));v.push(o,o)}var l=()=>1-t,p=e.animate(v,{duration:u});return p.onfinish=()=>{var c=(r==null?void 0:r.t())??1-t;r==null||r.abort();var k=t-c,d=a.duration*Math.abs(k),y=[];if(d>0){var A=!1;if(m)for(var g=Math.ceil(d/16.666666666666668),E=0;E<=g;E+=1){var N=c+k*f(E/g),S=le(m(N,1-N));y.push(S),A||(A=S.overflow==="hidden")}A&&(e.style.overflow="hidden"),l=()=>{var C=p.currentTime;return c+k*f(C/d)},h&&wa(()=>{if(p.playState!=="running")return!1;var C=l();return h(C,1-C),!0})}p=e.animate(y,{duration:d,fill:"forwards"}),p.onfinish=()=>{l=()=>t,h==null||h(t,1-t),s()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=B)},deactivate:()=>{s=B},reset:()=>{t===0&&(h==null||h(1,0))},t:()=>l()}}function Sa(e,a,r=a){var t=ra();ca(e,"input",s=>{var n=s?e.defaultValue:e.value;if(n=z(e)?Y(n):n,r(n),t&&n!==(n=a())){var i=e.selectionStart,_=e.selectionEnd;e.value=n??"",_!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(_,e.value.length))}}),(T&&e.defaultValue!==e.value||me(a)==null&&e.value)&&r(z(e)?Y(e.value):e.value),ta(()=>{var s=a();z(e)&&s===Y(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function z(e){var a=e.type;return a==="number"||a==="range"}function Y(e){return e===""?null:+e}var Oa=R('<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined">'),Ca=R('<span class="material-icons-outlined icon svelte-y47uu9"> </span>');function D(e,a){let r=L(a,"name",8),t=L(a,"handler",8,()=>{}),s=L(a,"color",8,"green");var n=Ca();ua(_=>{var u=Oa();x(_,u)});var i=I(n,!0);w(n),H(()=>{U(n,"style",`--color:${s()??""};`),Q(i,r())}),Z("click",n,function(..._){var u;(u=t())==null||u.apply(this,_)}),x(e,n)}var Ma=R("<span> </span>");function Da(e,a){let r=L(a,"prio",12,3),t=L(a,"disabled",8,!1);const s=u=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[u],n=()=>{t()||r((r()+1)%3+1)};var i=Ma(),_=I(i,!0);w(i),H((u,m)=>{j(i,Aa(u),"svelte-3d91nw"),Q(_,m)},[()=>t()?"DISABILITATO":s(r()),()=>s(r())],he),Z("click",i,n),x(e,i)}const Ra=e=>e;function fe(e,{delay:a=0,duration:r=400,easing:t=Ra}={}){const s=+getComputedStyle(e).opacity;return{delay:a,duration:r,easing:t,css:n=>`opacity: ${n*s}`}}var La=R("<div><!></div>");function F(e,a){let r=L(a,"last",8,!1);var t=La(),s=I(t);ka(s,a,"default",{}),w(t),H(()=>j(t,`cell ${(r()?"cell-last":"")??""} svelte-ir89wu`)),oe(1,t,()=>fe,()=>({duration:700})),oe(2,t,()=>fe,()=>({duration:350})),x(e,t)}var Pa=R('<input type="text" placeholder="Inserisci il nuovo ToDo">'),Ba=R("<!> <!> <!> <!> <!>",1);function Fa(e,a){ye(a,!1);let r=L(a,"todo",12),t=ge(r().priority);const s=oa(),n=()=>{r(r().done=!r().done,!0),i("update")},i=l=>{s("change",{type:l,id:r().id})},_=()=>{document.getElementById(r().id).blur(),i("update")};sa(()=>(la(r()),b(t)),()=>{r().priority!=b(t)&&(G(t,r().priority),i("update"))}),na(),ve();var u=Ba(),m=W(u);F(m,{children:(l,p)=>{ia();var c=Ie();H(()=>Q(c,r().id)),x(l,c)},$$slots:{default:!0}});var h=$(m,2);F(h,{children:(l,p)=>{var c=we(),k=W(c);{var d=A=>{D(A,{name:"circle",handler:n,color:"red"})},y=A=>{D(A,{name:"task_alt",handler:n})};_a(k,A=>{r().done==!1?A(d):A(y,!1)})}x(l,c)},$$slots:{default:!0}});var f=$(h,2);F(f,{children:(l,p)=>{var c=Pa();Ta(c),H(()=>{j(c,`todo-item-input-text ${(r().done==!0?"text-done":"")??""} svelte-ev9nhu`),U(c,"id",r().id)}),Sa(c,()=>r().task,k=>r(r().task=k,!0)),Z("change",c,_),x(l,c)},$$slots:{default:!0}});var v=$(f,2);F(v,{children:(l,p)=>{Da(l,{get disabled(){return r().done},get prio(){return r().priority},set prio(c){r(r().priority=c,!0)},$$legacy:!0})},$$slots:{default:!0}});var o=$(v,2);F(o,{last:!0,children:(l,p)=>{D(l,{name:"delete_forever",handler:()=>i("delete"),color:"red"})},$$slots:{default:!0}}),x(e,u),ke()}var Ha=R('<h1 class="app-title svelte-k449ts">ToDos</h1> <div class="todo-list svelte-k449ts"><div class="header svelte-k449ts"><!></div> <div class="header svelte-k449ts"><!></div> <div class="header svelte-k449ts"><!></div> <div class="header svelte-k449ts"><!></div> <div class="header header-last svelte-k449ts"><!></div> <!></div>',1);function qa(e,a){ye(a,!1);let r=ge([]),t=0;const s=async()=>{let g={id:++t,task:"",done:!1,priority:3};console.log("CREATE: ",g),localStorage.setItem(`todo${g.id}`,JSON.stringify(g)),G(r,[...b(r),g])},n=async g=>{switch(g.detail.type){case"update":i(g.detail.id);break;case"delete":_(g.detail.id);break}},i=g=>{console.log("UPDATE: ",g);const E=b(r).filter(N=>N.id==g)[0];localStorage.setItem(`todo${g}`,JSON.stringify(E))},_=g=>{console.log("DELETE: ",g),G(r,b(r).filter(E=>E.id!=g))};fa(async()=>{for(let g=0;g<localStorage.length;g++){const E=localStorage.key(g),N=+E.substring(4);N>=t&&(t=N);const S=JSON.parse(localStorage.getItem(E));S!=null&&b(r).push(S)}G(r,[...b(r)])}),ve();var u=Ha(),m=$(W(u),2),h=I(m),f=I(h);D(f,{name:"tag"}),w(h);var v=$(h,2),o=I(v);D(o,{name:"task_alt"}),w(v);var l=$(v,2),p=I(l);D(p,{name:"list"}),w(l);var c=$(l,2),k=I(c);D(k,{name:"schedule"}),w(c);var d=$(c,2),y=I(d);D(y,{name:"add_box",handler:s}),w(d);var A=$(d,2);ma(A,1,()=>b(r),ha,(g,E)=>{Fa(g,{get todo(){return b(E)},$$events:{change:n}})}),w(m),x(e,u),ke()}var Ja=R('<main class="svelte-ufi2dx"><!></main>');function Wa(e){var a=Ja(),r=I(a);qa(r,{}),w(a),x(e,a)}export{Wa as component};
